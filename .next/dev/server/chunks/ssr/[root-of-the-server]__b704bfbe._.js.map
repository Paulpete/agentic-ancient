{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 12, "column": 0}, "map": {"version":3,"sources":["file:///home/user/agentic-ancient/lib/ethereum/biconomy.ts"],"sourcesContent":["\nimport { createSmartAccountClient } from \"@biconomy/account\";\nimport { ethers } from \"ethers\";\n\n// Biconomy integration using the provided API key\nexport class Biconomy {\n    private biconomySmartAccount: any;\n\n    constructor() {\n        if (!process.env.BICONOMY_API_KEY) {\n            throw new Error(\"BICONOMY_API_KEY is not set in environment variables\");\n        }\n        if (!process.env.ETH_PRIVATE_KEY) {\n            throw new Error(\"ETH_PRIVATE_KEY is not set in environment variables\");\n        }\n         this.setupBiconomy();\n    }\n\n    private async setupBiconomy() {\n        console.log(\"Setting up Biconomy Smart Account...\");\n        const provider = new ethers.JsonRpcProvider(\"https://rpc.ankr.com/polygon_mumbai\");\n        const signer = new ethers.Wallet(process.env.ETH_PRIVATE_KEY as string, provider);\n\n        const smartAccountConfig = {\n            signer,\n            chainId: 80001, // Polygon Mumbai\n            bundlerUrl: `https://bundler.biconomy.io/api/v2/80001/nJPK7B32G.7f948574-142f-456a-af40-53d35667b369`, // From Biconomy Dashboard\n            paymasterUrl: `https://paymaster.biconomy.io/api/v1/80001/${process.env.BICONOMY_API_KEY}`,\n        };\n\n        this.biconomySmartAccount = await createSmartAccountClient(smartAccountConfig);\n        const saAddress = await this.biconomySmartAccount.getAccountAddress();\n        console.log(\"Biconomy Smart Account initialized:\", saAddress);\n    }\n\n    // Implement Biconomy relayer logic here\n    // For example, a method to send a gasless transaction\n    async sendGaslessTransaction() {\n        if (!this.biconomySmartAccount) {\n            await this.setupBiconomy();\n        }\n\n        console.log(\"Sending gasless transaction...\");\n\n        const tx = {\n            to: \"0x6d6F55C6736A7e6459f28FA95bbf59A97986EF23\",\n            value: ethers.parseEther(\"0.001\"),\n        };\n\n        try {\n            const userOp = await this.biconomySmartAccount.buildUserOp([tx]);\n            const userOpResponse = await this.biconomySmartAccount.sendUserOp(userOp);\n            \n            console.log(\"UserOp hash:\", userOpResponse.userOpHash);\n            \n            const transactionDetails = await userOpResponse.wait();\n            \n            console.log(\"Transaction successful!\");\n            console.log(\"Transaction URL:\", `https://www.biconomy.io/dashboard/user-operations/${transactionDetails.receipt.transactionHash}`);\n            \n            return {\n                hash: transactionDetails.receipt.transactionHash,\n                receipt: transactionDetails.receipt,\n            };\n        } catch (error) {\n            console.error(\"Error sending gasless transaction:\", error);\n            throw error;\n        }\n    }\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;;;;;;AAGO,MAAM;IACD,qBAA0B;IAElC,aAAc;QACV,IAAI,CAAC,QAAQ,GAAG,CAAC,gBAAgB,EAAE;YAC/B,MAAM,IAAI,MAAM;QACpB;QACA,IAAI,CAAC,QAAQ,GAAG,CAAC,eAAe,EAAE;YAC9B,MAAM,IAAI,MAAM;QACpB;QACC,IAAI,CAAC,aAAa;IACvB;IAEA,MAAc,gBAAgB;QAC1B,QAAQ,GAAG,CAAC;QACZ,MAAM,WAAW,IAAI,mKAAM,CAAC,eAAe,CAAC;QAC5C,MAAM,SAAS,IAAI,mKAAM,CAAC,MAAM,CAAC,QAAQ,GAAG,CAAC,eAAe,EAAY;QAExE,MAAM,qBAAqB;YACvB;YACA,SAAS;YACT,YAAY,CAAC,uFAAuF,CAAC;YACrG,cAAc,CAAC,2CAA2C,EAAE,QAAQ,GAAG,CAAC,gBAAgB,EAAE;QAC9F;QAEA,IAAI,CAAC,oBAAoB,GAAG,MAAM,IAAA,kOAAwB,EAAC;QAC3D,MAAM,YAAY,MAAM,IAAI,CAAC,oBAAoB,CAAC,iBAAiB;QACnE,QAAQ,GAAG,CAAC,uCAAuC;IACvD;IAEA,wCAAwC;IACxC,sDAAsD;IACtD,MAAM,yBAAyB;QAC3B,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE;YAC5B,MAAM,IAAI,CAAC,aAAa;QAC5B;QAEA,QAAQ,GAAG,CAAC;QAEZ,MAAM,KAAK;YACP,IAAI;YACJ,OAAO,mKAAM,CAAC,UAAU,CAAC;QAC7B;QAEA,IAAI;YACA,MAAM,SAAS,MAAM,IAAI,CAAC,oBAAoB,CAAC,WAAW,CAAC;gBAAC;aAAG;YAC/D,MAAM,iBAAiB,MAAM,IAAI,CAAC,oBAAoB,CAAC,UAAU,CAAC;YAElE,QAAQ,GAAG,CAAC,gBAAgB,eAAe,UAAU;YAErD,MAAM,qBAAqB,MAAM,eAAe,IAAI;YAEpD,QAAQ,GAAG,CAAC;YACZ,QAAQ,GAAG,CAAC,oBAAoB,CAAC,kDAAkD,EAAE,mBAAmB,OAAO,CAAC,eAAe,EAAE;YAEjI,OAAO;gBACH,MAAM,mBAAmB,OAAO,CAAC,eAAe;gBAChD,SAAS,mBAAmB,OAAO;YACvC;QACJ,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,sCAAsC;YACpD,MAAM;QACV;IACJ;AACJ"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/user/agentic-ancient/pages/index.tsx"],"sourcesContent":["\nimport { useState } from 'react';\nimport { Biconomy } from '../lib/ethereum/biconomy';\n\nexport default function Home() {\n  const [isSending, setIsSending] = useState(false);\n  const [txHash, setTxHash] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSendTransaction = async () => {\n    setIsSending(true);\n    setError(null);\n    setTxHash(null);\n\n    try {\n      const biconomy = new Biconomy();\n      const result = await biconomy.sendGaslessTransaction();\n      if (result && result.hash) {\n        setTxHash(result.hash);\n      }\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || \"An error occurred.\");\n    } finally {\n      setIsSending(false);\n    }\n  };\n\n  return (\n    <main\n      className={`flex min-h-screen flex-col items-center justify-center p-24`}\n    >\n      <div className=\"z-10 max-w-5xl w-full items-center justify-center font-mono text-sm flex flex-col\">\n        <h1 className=\"text-4xl font-bold mb-8\">Biconomy Gasless Demo</h1>\n        \n        <button\n          onClick={handleSendTransaction}\n          disabled={isSending}\n          className=\"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 disabled:bg-gray-400 transition-colors duration-300\"\n        >\n          {isSending ? 'Sending...' : 'Send 0.001 ETH (Gasless)'}\n        </button>\n\n        {txHash && (\n          <div className=\"mt-8 text-center\">\n            <p className=\"text-green-500 font-bold\">Transaction Successful!</p>\n            <p className=\"mt-2\">Transaction Hash: {txHash}</p>\n            <a\n              href={`https://www.biconomy.io/dashboard/user-operations/${txHash}`}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"text-blue-500 hover:underline mt-2 block\"\n            >\n              View on Biconomy Dashboard\n            </a>\n          </div>\n        )}\n\n        {error && (\n           <div className=\"mt-8 text-center\">\n             <p className=\"text-red-500 font-bold\">Transaction Failed</p>\n             <p className=\"mt-2\">{error}</p>\n           </div>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;;;;;AAEe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAC;IAC3C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAgB;IACpD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAgB;IAElD,MAAM,wBAAwB;QAC5B,aAAa;QACb,SAAS;QACT,UAAU;QAEV,IAAI;YACF,MAAM,WAAW,IAAI,gIAAQ;YAC7B,MAAM,SAAS,MAAM,SAAS,sBAAsB;YACpD,IAAI,UAAU,OAAO,IAAI,EAAE;gBACzB,UAAU,OAAO,IAAI;YACvB;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC;YACd,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,qKAAC;QACC,WAAW,CAAC,2DAA2D,CAAC;kBAExE,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAG,WAAU;8BAA0B;;;;;;8BAExC,qKAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,YAAY,eAAe;;;;;;gBAG7B,wBACC,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAE,WAAU;sCAA2B;;;;;;sCACxC,qKAAC;4BAAE,WAAU;;gCAAO;gCAAmB;;;;;;;sCACvC,qKAAC;4BACC,MAAM,CAAC,kDAAkD,EAAE,QAAQ;4BACnE,QAAO;4BACP,KAAI;4BACJ,WAAU;sCACX;;;;;;;;;;;;gBAMJ,uBACE,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAE,WAAU;sCAAyB;;;;;;sCACtC,qKAAC;4BAAE,WAAU;sCAAQ;;;;;;;;;;;;;;;;;;;;;;;AAMlC"}}]
}